<link href="https://fonts.googleapis.com/css?family=Nosifer" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lemon" rel="stylesheet">



<div class="container">
    <div class="game_box">
        @if(@ViewBag.story != null)
        {
            @foreach(var thing in @ViewBag.story)
            {
                @if(thing.flag == 1){
                    <p style="color:blue; font-size: 14pt">@thing.storyBook</p>
                }
                else if(thing.flag == 2){
                    <p style="color:purple">@thing.storyBook</p>
                }
                else if(thing.flag == 3){
                    <p style="color:red">@thing.storyBook</p>
                }
                else if(thing.flag == 4){
                    <p style="color:green">@thing.storyBook</p>
                }
                else if(thing.flag == 5){
                    <p style="color:crimson; font-family:'Nosifer', cursive; font-size:16pt">@thing.storyBook</p>
                }
                else if(thing.flag == 6){
                    <p style="color:goldenrod; font-family:'Lemon', cursive; font-size:16pt">@thing.storyBook</p>
                }
            }
        }
        @if(@ViewBag.start == true)
        {
            <a href="startgame"><button class="button">Start Game</button></a>
        }
    </div>
    @if(ViewBag.tempPercent != null)
    {
        string tempColor = "";
        @if(@ViewBag.temp > 80)
        {
            tempColor = "red";
        }
        else{
            tempColor = "blue";
        }
        <div class="temp_bar">
            <div class="progress progress-bar-vertical">
                <div class="progress-bar" role="progressbar" style="height: @ViewBag.tempPercent%; background-color: @tempColor !important;">
                    @ViewBag.temp deg
                </div>
            </div>
        </div>
    }
    <div class="col-xs-3">
        @if(ViewBag.healthPercent != null)
        {
            <p class="labels">Health:</p>
            string healthColor = "";
            @if(30 < @ViewBag.healthPercent && @ViewBag.healthPercent < 60)
            {
                healthColor = "orange";
            }
            else if(@ViewBag.healthPercent < 31)
            {
                healthColor = "red";
            }
            else{
                healthColor = "green";
            }
            <div class="progress">
                <div class="progress-bar" style="width: @ViewBag.healthPercent%; background-color: @healthColor !important;">@ViewBag.health / @ViewBag.healthMax</div>
            </div>
        }
        @if(ViewBag.moves != null)
        {
            int count = 1;
            foreach(var move in @ViewBag.moves)
            {
                <a href="/playersturn/@count"><button class="movebtn">@move</button></a>
                count++;
            }
        }

    </div>
</div>

<style>

    .temp_bar{
        display: inline-block;
        margin-top: 25px;
        vertical-align: top;
    }

    .progress-bar-vertical {
        width: 30px;
        min-height: 500px;
        display: flex;
        align-items: flex-end;
        margin-right: 20px;
        margin-left: 15px;
    }
    
    .progress-bar-vertical .progress-bar {
        width: 100%;
        height: 0;
        -webkit-transition: height 0.6s ease;
        -o-transition: height 0.6s ease;
        transition: height 0.6s ease;
    }
    
    .game_box{
        display: inline-block;
        height: 500px;
        width: 500px;
        border: 1px solid black;
        margin-top: 25px;
        overflow-y: scroll;
    }
    .container{
        display: inline-block;
    }
    .labels{
        margin-top: 10px;
        margin-bottom: -3px;
    }

    .button
    {
        transition-duration: 0.4s;
        -webkit-transition-duration: 0.4s;
        padding: 40px 100px;
        border-radius: 8px;
        background-color: white;
        color: black;
        border: 2px solid red;
        margin-top: 150px;
        margin-left: 105px;
    }

    .button:hover
    {
        background-color: red;
        color: white;
    }

    .movebtn
    {
        transition-duration: 0.4s;
        -webkit-transition-duration: 0.4s;
        border-radius: 4px;
        background-color: white;
        color: black;
        border: 2px solid red;
    }

    .movebtn:hover
    {
        background-color: red;
        color: white;
    }
</style>